# Server Configuration
server.contextPath=/iot-service
server.servlet.context-path=/iot-service
server.port=8084

# Application Configuration
app.timezone=UTC

# Database Configuration
spring.datasource.driver-class-name=io.opentelemetry.instrumentation.jdbc.OpenTelemetryDriver
spring.datasource.url=jdbc:postgresql://localhost:5432/iotdb
spring.datasource.username=postgres
spring.datasource.password=postgres

# JPA Configuration
spring.jpa.generate-ddl=false
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=none
spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.EJB3NamingStrategy
spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.database=POSTGRESQL
spring.data.jpa.repositories.enabled=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.user=postgres
spring.flyway.password=postgres
spring.flyway.outOfOrder=true
spring.flyway.table=iot_service_schema_version
spring.flyway.baseline-on-migrate=true
spring.flyway.url=jdbc:postgresql://localhost:5432/iotdb
spring.flyway.locations=classpath:/db/migration/ddl

# MQTT Configuration
mqtt.broker.url=tcp://localhost:1883
mqtt.client.id=iot-service-client
mqtt.username=
mqtt.password=
mqtt.default.topic=iot/devices/+/data
mqtt.qos=1

# MQTT Topics
mqtt.topic.device.data=iot/devices/{deviceId}/data
mqtt.topic.device.command=iot/devices/{deviceId}/commands
mqtt.topic.device.status=iot/devices/{deviceId}/status

# Logging Configuration
logging.level.org.egov.iot=DEBUG
logging.level.org.springframework.integration.mqtt=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Management Endpoints
management.endpoints.web.base-path=/
management.endpoint.health.show-details=always
management.endpoints.web.exposure.include=health,info,metrics

# Jackson Configuration
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=UTC
